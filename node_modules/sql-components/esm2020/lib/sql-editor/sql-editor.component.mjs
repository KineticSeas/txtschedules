import { Component, Input, Output, EventEmitter } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { MatFormFieldModule } from '@angular/material/form-field';
import { MatInputModule } from '@angular/material/input';
import { Editor, toHTML } from 'ngx-editor';
import { NgxEditorModule } from 'ngx-editor';
import * as i0 from "@angular/core";
import * as i1 from "../data.service";
import * as i2 from "@angular/common";
import * as i3 from "@angular/forms";
import * as i4 from "ngx-editor";
export class SqlEditorComponent {
    ngAfterViewInit() {
    }
    constructor(_dataService) {
        this._dataService = _dataService;
        this.html = '';
        this.toolbar = [
            ['bold', 'italic'],
            ['underline', 'strike'],
            ['code', 'blockquote'],
            ['ordered_list', 'bullet_list'],
            [{ heading: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'] }],
            ['link', 'image'],
            ['text_color', 'background_color'],
            ['align_left', 'align_center', 'align_right', 'align_justify'],
        ];
        this.value = '';
        this.fieldData = '';
        this.preview = 'Y';
        this.edit = 'Y';
        this.col = '';
        this.class = '';
        this.style = '';
        this.hint = '';
        this.icon = '';
        this.label = 'Label not set';
        this.placeholder = '';
        this.appearance = 'outline';
        this.bs_row = 'Y';
        this.bs_col = 'col-12';
        this.top_label = 'N';
        this.counter = 0;
        this.showing_preview = 'N';
        this.change = new EventEmitter();
        this.myObs = this._dataService.dataSubject.subscribe(d => {
            this.data = d;
            this.fieldData = this.data;
            if (this.fieldData[this.col] === undefined) {
                this.value = JSON.parse('{ "type": "doc", "content": [] }');
                this.editordoc = "";
            }
            else {
                if (this.fieldData[this.col] !== '') {
                    this.value = JSON.parse(this.fieldData[this.col]);
                    this.editordoc = toHTML(this.value);
                }
                else {
                    this.value = JSON.parse('{ "type": "doc", "content": [] }');
                    this.editordoc = "";
                }
            }
            this.counter++;
        });
    }
    showPreview() {
        this.edit = 'N';
    }
    showEdit() {
        this.edit = 'Y';
    }
    ngOnInit() {
        this.editor = new Editor();
    }
    handleChange() {
        this.fieldData['submit'] = 'N';
        this.fieldData[this.col] = JSON.stringify(this.value);
        this.editordoc = toHTML(this.value);
        this._dataService.pushNotification(this.fieldData);
    }
    ngOnDestroy() {
        this.myObs.unsubscribe();
    }
}
SqlEditorComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.3", ngImport: i0, type: SqlEditorComponent, deps: [{ token: i1.SQLDataService }], target: i0.ɵɵFactoryTarget.Component });
SqlEditorComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.3", type: SqlEditorComponent, isStandalone: true, selector: "sql-editor", inputs: { preview: "preview", edit: "edit", col: "col", data: "data", class: "class", style: "style", hint: "hint", icon: "icon", label: "label", placeholder: "placeholder", appearance: "appearance", bs_row: "bs_row", bs_col: "bs_col", top_label: "top_label" }, outputs: { change: "change" }, ngImport: i0, template: "<div *ngIf=\"preview=='Y'\">\n  <div class=\"card\">\n    <div class=\"card-body\">\n       {{ label }} <button (click)=\"showPreview()\" class=\"btn dark\" style=\"margin-left: 10px; margin-right: 10px;\"><i class=\"bi bi-binoculars\"></i></button>\n       <button (click)=\"showEdit()\" class=\"btn dark\"><i class=\"bi bi-pencil-square\"></i></button>\n  <div *ngIf=\"edit=='N'\" class=\"card\">\n        <div class=\"card-body\" [innerHTML]=\"editordoc\">\n        </div>\n  </div>\n  <div *ngIf=\"edit=='Y'\">\n      <span>\n        <ng-container *ngTemplateOutlet=\"contentTmpl\"></ng-container>\n      </span>\n    </div>\n</div>\n</div>\n</div>\n<div *ngIf=\"preview=='N'\">\n  <span>{{ label }}</span>\n  <ng-container *ngTemplateOutlet=\"contentTmpl\"></ng-container>\n</div>\n\n<ng-template #contentTmpl>\n    <span>\n          <div class=\"editor\" [style]=\"style\">\n            <ngx-editor-menu [editor]=\"editor\" [toolbar]=\"toolbar\"></ngx-editor-menu>\n            <ngx-editor [editor]=\"editor\" (ngModelChange)=\"handleChange();\" [(ngModel)]=\"value\"></ngx-editor>\n          </div>\n  </span>\n</ng-template>\n", styles: [".container{width:100%;max-width:900px;min-width:320px;margin:auto;display:flex;flex-direction:column;align-items:center;justify-content:center}.container .title,.container .content{width:100%}.container .content .display{display:flex;flex-direction:column;align-items:center;margin-bottom:1rem}.container .content .display .logo{display:flex;flex-direction:column;align-items:center;text-align:center;margin-bottom:.5rem}.container .content .display .badges img:not(:last-child){margin-right:5px}.editor{border:2px solid rgba(0,0,0,.2);border-radius:4px}.editor .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.editor .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.editor .CodeMirror{border:1px solid #eee;height:auto;margin-bottom:.7rem}.editor .CodeMirror pre{white-space:pre!important}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "ngmodule", type: FormsModule }, { kind: "directive", type: i3.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i3.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "ngmodule", type: MatFormFieldModule }, { kind: "ngmodule", type: MatInputModule }, { kind: "ngmodule", type: NgxEditorModule }, { kind: "component", type: i4.NgxEditorComponent, selector: "ngx-editor", inputs: ["editor", "outputFormat", "placeholder"], outputs: ["focusOut", "focusIn"] }, { kind: "component", type: i4.MenuComponent, selector: "ngx-editor-menu", inputs: ["toolbar", "colorPresets", "disabled", "editor", "customMenuRef", "dropdownPlacement"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.3", ngImport: i0, type: SqlEditorComponent, decorators: [{
            type: Component,
            args: [{ selector: 'sql-editor', standalone: true, imports: [CommonModule, FormsModule, MatFormFieldModule, MatInputModule, NgxEditorModule], template: "<div *ngIf=\"preview=='Y'\">\n  <div class=\"card\">\n    <div class=\"card-body\">\n       {{ label }} <button (click)=\"showPreview()\" class=\"btn dark\" style=\"margin-left: 10px; margin-right: 10px;\"><i class=\"bi bi-binoculars\"></i></button>\n       <button (click)=\"showEdit()\" class=\"btn dark\"><i class=\"bi bi-pencil-square\"></i></button>\n  <div *ngIf=\"edit=='N'\" class=\"card\">\n        <div class=\"card-body\" [innerHTML]=\"editordoc\">\n        </div>\n  </div>\n  <div *ngIf=\"edit=='Y'\">\n      <span>\n        <ng-container *ngTemplateOutlet=\"contentTmpl\"></ng-container>\n      </span>\n    </div>\n</div>\n</div>\n</div>\n<div *ngIf=\"preview=='N'\">\n  <span>{{ label }}</span>\n  <ng-container *ngTemplateOutlet=\"contentTmpl\"></ng-container>\n</div>\n\n<ng-template #contentTmpl>\n    <span>\n          <div class=\"editor\" [style]=\"style\">\n            <ngx-editor-menu [editor]=\"editor\" [toolbar]=\"toolbar\"></ngx-editor-menu>\n            <ngx-editor [editor]=\"editor\" (ngModelChange)=\"handleChange();\" [(ngModel)]=\"value\"></ngx-editor>\n          </div>\n  </span>\n</ng-template>\n", styles: [".container{width:100%;max-width:900px;min-width:320px;margin:auto;display:flex;flex-direction:column;align-items:center;justify-content:center}.container .title,.container .content{width:100%}.container .content .display{display:flex;flex-direction:column;align-items:center;margin-bottom:1rem}.container .content .display .logo{display:flex;flex-direction:column;align-items:center;text-align:center;margin-bottom:.5rem}.container .content .display .badges img:not(:last-child){margin-right:5px}.editor{border:2px solid rgba(0,0,0,.2);border-radius:4px}.editor .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.editor .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.editor .CodeMirror{border:1px solid #eee;height:auto;margin-bottom:.7rem}.editor .CodeMirror pre{white-space:pre!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.SQLDataService }]; }, propDecorators: { preview: [{
                type: Input
            }], edit: [{
                type: Input
            }], col: [{
                type: Input
            }], data: [{
                type: Input
            }], class: [{
                type: Input
            }], style: [{
                type: Input
            }], hint: [{
                type: Input
            }], icon: [{
                type: Input
            }], label: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], appearance: [{
                type: Input
            }], bs_row: [{
                type: Input
            }], bs_col: [{
                type: Input
            }], top_label: [{
                type: Input
            }], change: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3FsLWVkaXRvci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zcWwtY29tcG9uZW50cy9zcmMvbGliL3NxbC1lZGl0b3Ivc3FsLWVkaXRvci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zcWwtY29tcG9uZW50cy9zcmMvbGliL3NxbC1lZGl0b3Ivc3FsLWVkaXRvci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFVLEtBQUssRUFBRSxNQUFNLEVBQWEsWUFBWSxFQUFxQyxNQUFNLGVBQWUsQ0FBQztBQUM3SCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxrQkFBa0IsRUFBdUIsTUFBTSw4QkFBOEIsQ0FBQztBQUN2RixPQUFPLEVBQVksY0FBYyxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFJbkUsT0FBTyxFQUFjLE1BQU0sRUFBVyxNQUFNLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFakUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLFlBQVksQ0FBQzs7Ozs7O0FBUzdDLE1BQU0sT0FBTyxrQkFBa0I7SUF3QzdCLGVBQWU7SUFFZixDQUFDO0lBR0QsWUFBb0IsWUFBNEI7UUFBNUIsaUJBQVksR0FBWixZQUFZLENBQWdCO1FBeENoRCxTQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ1YsWUFBTyxHQUFZO1lBQ2pCLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQztZQUNsQixDQUFDLFdBQVcsRUFBRSxRQUFRLENBQUM7WUFDdkIsQ0FBQyxNQUFNLEVBQUUsWUFBWSxDQUFDO1lBQ3RCLENBQUMsY0FBYyxFQUFFLGFBQWEsQ0FBQztZQUMvQixDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUMsSUFB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QUMsS0FBSyxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVELFdBQVc7UUFDVCxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQzNCLENBQUM7OytHQXRGVSxrQkFBa0I7bUdBQWxCLGtCQUFrQiwyV0NuQi9CLGduQ0E4QkEsNjZCRGZZLFlBQVkseVNBQUUsV0FBVyw4VkFBRSxrQkFBa0IsOEJBQUUsY0FBYyw4QkFBRSxlQUFlOzJGQUk3RSxrQkFBa0I7a0JBUDlCLFNBQVM7K0JBQ0UsWUFBWSxjQUNWLElBQUksV0FDUCxDQUFDLFlBQVksRUFBRSxXQUFXLEVBQUUsa0JBQWtCLEVBQUUsY0FBYyxFQUFFLGVBQWUsQ0FBRTtxR0F5QmpGLE9BQU87c0JBQWYsS0FBSztnQkFDRyxJQUFJO3NCQUFaLEtBQUs7Z0JBQ0csR0FBRztzQkFBWCxLQUFLO2dCQUNHLElBQUk7c0JBQVosS0FBSztnQkFDRyxLQUFLO3NCQUFiLEtBQUs7Z0JBQ0csS0FBSztzQkFBYixLQUFLO2dCQUNHLElBQUk7c0JBQVosS0FBSztnQkFDRyxJQUFJO3NCQUFaLEtBQUs7Z0JBQ0csS0FBSztzQkFBYixLQUFLO2dCQUNHLFdBQVc7c0JBQW5CLEtBQUs7Z0JBQ0csVUFBVTtzQkFBbEIsS0FBSztnQkFDRyxNQUFNO3NCQUFkLEtBQUs7Z0JBQ0csTUFBTTtzQkFBZCxLQUFLO2dCQUNHLFNBQVM7c0JBQWpCLEtBQUs7Z0JBSU4sTUFBTTtzQkFETCxNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIE9uRGVzdHJveSwgRXZlbnRFbWl0dGVyLCBPbkNoYW5nZXMsIERvQ2hlY2ssIEFmdGVyVmlld0luaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IE1hdEZvcm1GaWVsZE1vZHVsZSwgTWF0Rm9ybUZpZWxkQ29udHJvbCB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2Zvcm0tZmllbGQnO1xuaW1wb3J0IHsgTWF0SW5wdXQsIE1hdElucHV0TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvaW5wdXQnO1xuaW1wb3J0IHsgTWF0SWNvbk1vZHVsZSAgfSAgZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvaWNvbic7XG5pbXBvcnQgeyBTUUxEYXRhU2VydmljZSB9IGZyb20gJy4uL2RhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFZhbGlkYXRvcnMsIEVkaXRvciwgVG9vbGJhciwgdG9IVE1MIH0gZnJvbSAnbmd4LWVkaXRvcic7XG5pbXBvcnQgeyBBYnN0cmFjdENvbnRyb2wsIEZvcm1Db250cm9sLCBGb3JtR3JvdXAgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBOZ3hFZGl0b3JNb2R1bGUgfSBmcm9tICduZ3gtZWRpdG9yJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnc3FsLWVkaXRvcicsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIEZvcm1zTW9kdWxlLCBNYXRGb3JtRmllbGRNb2R1bGUsIE1hdElucHV0TW9kdWxlLCBOZ3hFZGl0b3JNb2R1bGUgXSxcbiAgdGVtcGxhdGVVcmw6ICcuL3NxbC1lZGl0b3IuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9zcWwtZWRpdG9yLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgU3FsRWRpdG9yQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3kgIHtcblxuICBlZGl0b3I6IGFueTtcbiAgZWRpdG9yZG9jOiBhbnk7XG4gIFxuICBodG1sID0gJyc7XG4gIHRvb2xiYXI6IFRvb2xiYXIgPSBbXG4gICAgWydib2xkJywgJ2l0YWxpYyddLFxuICAgIFsndW5kZXJsaW5lJywgJ3N0cmlrZSddLFxuICAgIFsnY29kZScsICdibG9ja3F1b3RlJ10sXG4gICAgWydvcmRlcmVkX2xpc3QnLCAnYnVsbGV0X2xpc3QnXSxcbiAgICBbeyBoZWFkaW5nOiBbJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2J10gfV0sXG4gICAgWydsaW5rJywgJ2ltYWdlJ10sXG4gICAgWyd0ZXh0X2NvbG9yJywgJ2JhY2tncm91bmRfY29sb3InXSxcbiAgICBbJ2FsaWduX2xlZnQnLCAnYWxpZ25fY2VudGVyJywgJ2FsaWduX3JpZ2h0JywgJ2FsaWduX2p1c3RpZnknXSxcbiAgXTtcblxuICB2YWx1ZTogYW55PScnOyBcbiAgZmllbGREYXRhOiBhbnkgPSAnJztcbiAgbXlPYnMhOiBTdWJzY3JpcHRpb247XG5cbiAgQElucHV0KCkgcHJldmlldzogc3RyaW5nID0gJ1knO1xuICBASW5wdXQoKSBlZGl0OiBzdHJpbmcgPSAnWSc7ICBcbiAgQElucHV0KCkgY29sOiBzdHJpbmcgPSAnJztcbiAgQElucHV0KCkgZGF0YTogYW55O1xuICBASW5wdXQoKSBjbGFzczogYW55ID0gJyc7XG4gIEBJbnB1dCgpIHN0eWxlOiBhbnkgPSAnJztcbiAgQElucHV0KCkgaGludDogc3RyaW5nID0gJyc7XG4gIEBJbnB1dCgpIGljb246IHN0cmluZyA9ICcnO1xuICBASW5wdXQoKSBsYWJlbDogc3RyaW5nID0gJ0xhYmVsIG5vdCBzZXQnO1xuICBASW5wdXQoKSBwbGFjZWhvbGRlcjogYW55ID0gJyc7XG4gIEBJbnB1dCgpIGFwcGVhcmFuY2U6IHN0cmluZyA9ICdvdXRsaW5lJztcbiAgQElucHV0KCkgYnNfcm93OiBhbnkgPSAnWSc7XG4gIEBJbnB1dCgpIGJzX2NvbDogYW55ID0gJ2NvbC0xMic7XG4gIEBJbnB1dCgpIHRvcF9sYWJlbDogYW55ID0gJ04nO1xuICBjb3VudGVyOiBudW1iZXIgPSAwO1xuICBzaG93aW5nX3ByZXZpZXc6IHN0cmluZyA9ICdOJztcbiAgQE91dHB1dCgpXG4gIGNoYW5nZTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTsgIFxuICBcbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICBcbiAgfVxuXG4gIGZvcm1EYXRhOiBhbnk7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX2RhdGFTZXJ2aWNlOiBTUUxEYXRhU2VydmljZSkgeyBcbiAgICB0aGlzLm15T2JzID0gdGhpcy5fZGF0YVNlcnZpY2UuZGF0YVN1YmplY3Quc3Vic2NyaWJlKGQgPT4ge1xuICAgICAgdGhpcy5kYXRhPWQ7XG4gICAgICB0aGlzLmZpZWxkRGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgIGlmICh0aGlzLmZpZWxkRGF0YVt0aGlzLmNvbF09PT11bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IEpTT04ucGFyc2UoJ3sgXCJ0eXBlXCI6IFwiZG9jXCIsIFwiY29udGVudFwiOiBbXSB9Jyk7XG4gICAgICAgIHRoaXMuZWRpdG9yZG9jID0gXCJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWVsZERhdGFbdGhpcy5jb2xdIT09JycpIHtcbiAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IEpTT04ucGFyc2UodGhpcy5maWVsZERhdGFbdGhpcy5jb2xdKTtcbiAgICAgICAgICAgICAgdGhpcy5lZGl0b3Jkb2MgPSB0b0hUTUwodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gSlNPTi5wYXJzZSgneyBcInR5cGVcIjogXCJkb2NcIiwgXCJjb250ZW50XCI6IFtdIH0nKTtcbiAgICAgICAgICAgICAgdGhpcy5lZGl0b3Jkb2M9XCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuY291bnRlcisrO1xuICAgIH0pXG4gIH1cblxuICBzaG93UHJldmlldygpIHtcbiAgICB0aGlzLmVkaXQ9J04nO1xuICB9XG5cbiAgc2hvd0VkaXQoKSB7XG4gICAgdGhpcy5lZGl0PSdZJztcbiAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgICAgdGhpcy5lZGl0b3IgPSBuZXcgRWRpdG9yKCk7XG4gIH1cblxuICBoYW5kbGVDaGFuZ2UoKSB7XG4gICAgIHRoaXMuZmllbGREYXRhWydzdWJtaXQnXT0nTic7XG4gICAgIHRoaXMuZmllbGREYXRhW3RoaXMuY29sXT1KU09OLnN0cmluZ2lmeSh0aGlzLnZhbHVlKTtcbiAgICAgdGhpcy5lZGl0b3Jkb2MgPSB0b0hUTUwodGhpcy52YWx1ZSk7XG4gICAgIHRoaXMuX2RhdGFTZXJ2aWNlLnB1c2hOb3RpZmljYXRpb24odGhpcy5maWVsZERhdGEpO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5teU9icy51bnN1YnNjcmliZSgpO1xuICB9XG59XG4iLCI8ZGl2ICpuZ0lmPVwicHJldmlldz09J1knXCI+XG4gIDxkaXYgY2xhc3M9XCJjYXJkXCI+XG4gICAgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxuICAgICAgIHt7IGxhYmVsIH19IDxidXR0b24gKGNsaWNrKT1cInNob3dQcmV2aWV3KClcIiBjbGFzcz1cImJ0biBkYXJrXCIgc3R5bGU9XCJtYXJnaW4tbGVmdDogMTBweDsgbWFyZ2luLXJpZ2h0OiAxMHB4O1wiPjxpIGNsYXNzPVwiYmkgYmktYmlub2N1bGFyc1wiPjwvaT48L2J1dHRvbj5cbiAgICAgICA8YnV0dG9uIChjbGljayk9XCJzaG93RWRpdCgpXCIgY2xhc3M9XCJidG4gZGFya1wiPjxpIGNsYXNzPVwiYmkgYmktcGVuY2lsLXNxdWFyZVwiPjwvaT48L2J1dHRvbj5cbiAgPGRpdiAqbmdJZj1cImVkaXQ9PSdOJ1wiIGNsYXNzPVwiY2FyZFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCIgW2lubmVySFRNTF09XCJlZGl0b3Jkb2NcIj5cbiAgICAgICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8ZGl2ICpuZ0lmPVwiZWRpdD09J1knXCI+XG4gICAgICA8c3Bhbj5cbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImNvbnRlbnRUbXBsXCI+PC9uZy1jb250YWluZXI+XG4gICAgICA8L3NwYW4+XG4gICAgPC9kaXY+XG48L2Rpdj5cbjwvZGl2PlxuPC9kaXY+XG48ZGl2ICpuZ0lmPVwicHJldmlldz09J04nXCI+XG4gIDxzcGFuPnt7IGxhYmVsIH19PC9zcGFuPlxuICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwiY29udGVudFRtcGxcIj48L25nLWNvbnRhaW5lcj5cbjwvZGl2PlxuXG48bmctdGVtcGxhdGUgI2NvbnRlbnRUbXBsPlxuICAgIDxzcGFuPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJlZGl0b3JcIiBbc3R5bGVdPVwic3R5bGVcIj5cbiAgICAgICAgICAgIDxuZ3gtZWRpdG9yLW1lbnUgW2VkaXRvcl09XCJlZGl0b3JcIiBbdG9vbGJhcl09XCJ0b29sYmFyXCI+PC9uZ3gtZWRpdG9yLW1lbnU+XG4gICAgICAgICAgICA8bmd4LWVkaXRvciBbZWRpdG9yXT1cImVkaXRvclwiIChuZ01vZGVsQ2hhbmdlKT1cImhhbmRsZUNoYW5nZSgpO1wiIFsobmdNb2RlbCldPVwidmFsdWVcIj48L25neC1lZGl0b3I+XG4gICAgICAgICAgPC9kaXY+XG4gIDwvc3Bhbj5cbjwvbmctdGVtcGxhdGU+XG4iXX0=