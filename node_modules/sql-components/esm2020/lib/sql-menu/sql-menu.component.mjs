import { Component, Input, Output, EventEmitter, ContentChildren } from '@angular/core';
import { CommonModule } from '@angular/common';
import * as i0 from "@angular/core";
import * as i1 from "../data.service";
import * as i2 from "@angular/common";
export class SqlMenuComponent {
    constructor(_dataService) {
        this._dataService = _dataService;
        // format: is built from ContentChildren and Input Parameters
        this.format = { title: '', search: '', class: '', style: '', columns: [], buttons: [] };
        this.list = [];
        this.row_placeholder = 'row';
        this.col_placeholder = 'col-12';
        //-- Inputs
        this.title = ''; // title of the page.
        this.active = '0';
        this.use_parameters = 'N';
        this.data = ''; // Use Data if data comes from function.
        this.card = "Y"; // Show the form in a card Y/N
        this.card_class = '';
        this.card_style = '';
        this.container_class = 'container-fluid m-2 p-2'; // Class of the outer ng-container.
        this.container_style = ''; // Style of the outer ng-container.  
        this.search = 'TOP'; // Location of the search box.
        this.bs_row = 'Y'; // Y means add a bootstrap row.
        this.bs_col = 'col-sm-12 col-lg-12 col-xl-12'; // What bootstrap columns.
        this.table_class = 'table table-striped table-condensed'; // class of the table.
        this.table_style = ''; // style of the table.
        this.edit = 'Y'; // Add custom edit button.
        this.pagination = 'Y'; // Include pagination.
        this.pagesize = 25; // rows per page for pagination.
        this.id = '0'; // id for where clause.
        this.open = "Y"; // Does a closable list start open.
        this.class = 'table table-striped table-condensed'; // Class for the table container.
        this.style = ""; // Style for the table container.
        this.handler = 'default'; // what handler is used to process the form.
        this.menuClick = new EventEmitter();
        this.counter = 0;
        this.myObs = this._dataService.dataSubject.subscribe(d => {
            this.data = d;
        });
    }
    ngOnInit() {
        this.format.search = 'Y';
    }
    processClick(m) {
        this.list.forEach((e) => {
            e.active = 'N';
        });
        m.active = 'Y';
        this.menuClick.emit(m);
    }
    ngAfterViewInit() {
        this.format.title = this.title;
        this.format.class = this.class;
        this.format.style = this.style;
        this.format.pagination = this.pagination;
        this.format.pagesize = this.pagesize;
        if (this.bs_row == 'Y') {
            this.row_placeholder = "row";
        }
        else {
            this.row_placeholder = "none";
        }
        this.col_placeholder = this.bs_col;
        this.row_list.forEach((e) => {
            let template = { title: '', class: '', id: '', style: '', active: 'N' };
            if (e.nativeElement.nodeName == 'LI') {
                template.id = e.nativeElement.id;
                template.title = e.nativeElement.innerHTML;
            }
            if (e.nativeElement.className !== undefined) {
                template.class = e.nativeElement.className;
            }
            template.style = e.nativeElement.style.cssText;
            this.list.push(template);
        });
        this.list.forEach((e) => {
            console.log('e.id: ' + e.id + ' ' + ' active: ' + this.active);
            if (e.id == this.active) {
                e.active = 'Y';
            }
            else {
                e.active = 'N';
            }
        });
    }
    ngOnDestroy() {
        //    this.myObs.unsubscribe();
        //   this.myDataObs.unsubscribe();
    }
}
SqlMenuComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.3", ngImport: i0, type: SqlMenuComponent, deps: [{ token: i1.SQLDataService }], target: i0.ɵɵFactoryTarget.Component });
SqlMenuComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.3", type: SqlMenuComponent, isStandalone: true, selector: "sql-menu", inputs: { title: "title", active: "active", use_parameters: "use_parameters", data: "data", card: "card", card_class: "card_class", card_style: "card_style", container_class: "container_class", container_style: "container_style", search: "search", bs_row: "bs_row", bs_col: "bs_col", table_class: "table_class", table_style: "table_style", edit: "edit", pagination: "pagination", pagesize: "pagesize", id: "id", open: "open", class: "class", style: "style", handler: "handler" }, outputs: { menuClick: "menuClick" }, queries: [{ propertyName: "title_list", predicate: ["title"] }, { propertyName: "row_list", predicate: ["row"] }], ngImport: i0, template: "<div class=\"list-group\">\n    <button *ngIf=\"title!=''\" class=\"list-group-item list-group-item-action list-group-item-dark\">{{ title }}</button>\n    <ng-container *ngFor=\"let m of list\">\n        <li (click)=\"processClick(m)\" *ngIf=\"m?.active!=='Y'\" \n        class=\"list-group-item d-flex justify-content-between align-items-center\">{{ m.title }}\n                <span *ngIf=\"m.badge!==''\" class=\"badge bg-primary rounded-pill\">{{ m.badge }}</span></li>\n        <li (click)=\"processClick(m)\" *ngIf=\"m?.active==='Y'\" \n        class=\"list-group-item d-flex justify-content-between align-items-center active\">{{ m.title }}\n                <span *ngIf=\"m.badge!==''\" class=\"badge bg-primary rounded-pill\">{{ m.badge }}</span></li>\n    </ng-container>\n</div>", styles: [""], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.3", ngImport: i0, type: SqlMenuComponent, decorators: [{
            type: Component,
            args: [{ selector: 'sql-menu', standalone: true, imports: [CommonModule], template: "<div class=\"list-group\">\n    <button *ngIf=\"title!=''\" class=\"list-group-item list-group-item-action list-group-item-dark\">{{ title }}</button>\n    <ng-container *ngFor=\"let m of list\">\n        <li (click)=\"processClick(m)\" *ngIf=\"m?.active!=='Y'\" \n        class=\"list-group-item d-flex justify-content-between align-items-center\">{{ m.title }}\n                <span *ngIf=\"m.badge!==''\" class=\"badge bg-primary rounded-pill\">{{ m.badge }}</span></li>\n        <li (click)=\"processClick(m)\" *ngIf=\"m?.active==='Y'\" \n        class=\"list-group-item d-flex justify-content-between align-items-center active\">{{ m.title }}\n                <span *ngIf=\"m.badge!==''\" class=\"badge bg-primary rounded-pill\">{{ m.badge }}</span></li>\n    </ng-container>\n</div>" }]
        }], ctorParameters: function () { return [{ type: i1.SQLDataService }]; }, propDecorators: { title_list: [{
                type: ContentChildren,
                args: ['title']
            }], row_list: [{
                type: ContentChildren,
                args: ['row']
            }], title: [{
                type: Input
            }], active: [{
                type: Input
            }], use_parameters: [{
                type: Input
            }], data: [{
                type: Input
            }], card: [{
                type: Input
            }], card_class: [{
                type: Input
            }], card_style: [{
                type: Input
            }], container_class: [{
                type: Input
            }], container_style: [{
                type: Input
            }], search: [{
                type: Input
            }], bs_row: [{
                type: Input
            }], bs_col: [{
                type: Input
            }], table_class: [{
                type: Input
            }], table_style: [{
                type: Input
            }], edit: [{
                type: Input
            }], pagination: [{
                type: Input
            }], pagesize: [{
                type: Input
            }], id: [{
                type: Input
            }], open: [{
                type: Input
            }], class: [{
                type: Input
            }], style: [{
                type: Input
            }], handler: [{
                type: Input
            }], menuClick: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3FsLW1lbnUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvc3FsLWNvbXBvbmVudHMvc3JjL2xpYi9zcWwtbWVudS9zcWwtbWVudS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zcWwtY29tcG9uZW50cy9zcmMvbGliL3NxbC1tZW51L3NxbC1tZW51LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQ3JELGVBQWUsRUFBNkIsTUFBTSxlQUFlLENBQUM7QUFDcEUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDOzs7O0FBYS9DLE1BQU0sT0FBTyxnQkFBZ0I7SUEwQzNCLFlBQW9CLFlBQTRCO1FBQTVCLGlCQUFZLEdBQVosWUFBWSxDQUFnQjtRQW5DaEQsNkRBQTZEO1FBQzdELFdBQU0sR0FBUSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLENBQUM7UUFDeEYsU0FBSSxHQUFVLEVBQUUsQ0FBQztRQUdqQixvQkFBZSxHQUFRLEtBQUssQ0FBQztRQUM3QixvQkFBZSxHQUFRLFFBQVEsQ0FBQztRQUVoQyxXQUFXO1FBQ0YsVUFBSyxHQUFRLEVBQUUsQ0FBQyxDQUErQixxQkFBcUI7UUFDcEUsV0FBTSxHQUFRLEdBQUcsQ0FBQztRQUNsQixtQkFBYyxHQUFHLEdBQUcsQ0FBQztRQUNyQixTQUFJLEdBQVEsRUFBRSxDQUFDLENBQWdDLHdDQUF3QztRQUN2RixTQUFJLEdBQVEsR0FBRyxDQUFDLENBQStCLDhCQUE4QjtRQUM3RSxlQUFVLEdBQVEsRUFBRSxDQUFD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QUEzQyxlQUFlO3VCQUFDLE9BQU87Z0JBQ1EsUUFBUTtzQkFBdkMsZUFBZTt1QkFBQyxLQUFLO2dCQWFiLEtBQUs7c0JBQWIsS0FBSztnQkFDRyxNQUFNO3NCQUFkLEtBQUs7Z0JBQ0csY0FBYztzQkFBdEIsS0FBSztnQkFDRyxJQUFJO3NCQUFaLEtBQUs7Z0JBQ0csSUFBSTtzQkFBWixLQUFLO2dCQUNHLFVBQVU7c0JBQWxCLEtBQUs7Z0JBQ0csVUFBVTtzQkFBbEIsS0FBSztnQkFDRyxlQUFlO3NCQUF2QixLQUFLO2dCQUNHLGVBQWU7c0JBQXZCLEtBQUs7Z0JBQ0csTUFBTTtzQkFBZCxLQUFLO2dCQUNHLE1BQU07c0JBQWQsS0FBSztnQkFDRyxNQUFNO3NCQUFkLEtBQUs7Z0JBQ0csV0FBVztzQkFBbkIsS0FBSztnQkFDRyxXQUFXO3NCQUFuQixLQUFLO2dCQUNHLElBQUk7c0JBQVosS0FBSztnQkFDRyxVQUFVO3NCQUFsQixLQUFLO2dCQUNHLFFBQVE7c0JBQWhCLEtBQUs7Z0JBQ0csRUFBRTtzQkFBVixLQUFLO2dCQUNHLElBQUk7c0JBQVosS0FBSztnQkFDRyxLQUFLO3NCQUFiLEtBQUs7Z0JBQ0csS0FBSztzQkFBYixLQUFLO2dCQUNHLE9BQU87c0JBQWYsS0FBSztnQkFDSSxTQUFTO3NCQUFsQixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgT25EZXN0cm95LFxuICBDb250ZW50Q2hpbGRyZW4sIEVsZW1lbnRSZWYsIEFmdGVyVmlld0luaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBTUUxEYXRhU2VydmljZSB9IGZyb20gJy4uL2RhdGEuc2VydmljZSc7IFxuaW1wb3J0IHsgRGF0YSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdzcWwtbWVudScsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtDb21tb25Nb2R1bGVdLFxuICB0ZW1wbGF0ZVVybDogJy4vc3FsLW1lbnUuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9zcWwtbWVudS5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgU3FsTWVudUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95ICB7XG4gIC8vIFxuICBAQ29udGVudENoaWxkcmVuKCd0aXRsZScpIHByaXZhdGUgdGl0bGVfbGlzdCE6IEVsZW1lbnRSZWY7XG4gIEBDb250ZW50Q2hpbGRyZW4oJ3JvdycpIHByaXZhdGUgcm93X2xpc3QhOiBFbGVtZW50UmVmW107XG4gIG15T2JzITogU3Vic2NyaXB0aW9uO1xuICBteURhdGFPYnMhOiBTdWJzY3JpcHRpb247XG4gIFxuICAvLyBmb3JtYXQ6IGlzIGJ1aWx0IGZyb20gQ29udGVudENoaWxkcmVuIGFuZCBJbnB1dCBQYXJhbWV0ZXJzXG4gIGZvcm1hdDogYW55ID0geyB0aXRsZTogJycsIHNlYXJjaDogJycsIGNsYXNzOiAnJywgc3R5bGU6ICcnLCBjb2x1bW5zOiBbXSwgYnV0dG9uczogW10gfTtcbiAgbGlzdDogYW55W10gPSBbXTsgICAgICAgICAgXG5cbiAgXG4gIHJvd19wbGFjZWhvbGRlcjogYW55ID0gJ3Jvdyc7XG4gIGNvbF9wbGFjZWhvbGRlcjogYW55ID0gJ2NvbC0xMic7XG4gIFxuICAvLy0tIElucHV0c1xuICBASW5wdXQoKSB0aXRsZTogYW55ID0gJyc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRpdGxlIG9mIHRoZSBwYWdlLlxuICBASW5wdXQoKSBhY3RpdmU6IGFueSA9ICcwJztcbiAgQElucHV0KCkgdXNlX3BhcmFtZXRlcnMgPSAnTic7XG4gIEBJbnB1dCgpIGRhdGE6IGFueSA9ICcnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIERhdGEgaWYgZGF0YSBjb21lcyBmcm9tIGZ1bmN0aW9uLlxuICBASW5wdXQoKSBjYXJkOiBhbnkgPSBcIllcIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyB0aGUgZm9ybSBpbiBhIGNhcmQgWS9OXG4gIEBJbnB1dCgpIGNhcmRfY2xhc3M6IGFueSA9ICcnO1xuICBASW5wdXQoKSBjYXJkX3N0eWxlOiBhbnkgPSAnJztcbiAgQElucHV0KCkgY29udGFpbmVyX2NsYXNzOiBhbnkgPSAnY29udGFpbmVyLWZsdWlkIG0tMiBwLTInOyAgICAgICAgICAgICAgLy8gQ2xhc3Mgb2YgdGhlIG91dGVyIG5nLWNvbnRhaW5lci5cbiAgQElucHV0KCkgY29udGFpbmVyX3N0eWxlOiBhbnkgPSAnJzsgICAgICAgICAgICAgICAgICAgICAvLyBTdHlsZSBvZiB0aGUgb3V0ZXIgbmctY29udGFpbmVyLiAgXG4gIEBJbnB1dCgpIHNlYXJjaDogYW55ID0gJ1RPUCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9jYXRpb24gb2YgdGhlIHNlYXJjaCBib3guXG4gIEBJbnB1dCgpIGJzX3JvdzogYW55ID0gJ1knOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gWSBtZWFucyBhZGQgYSBib290c3RyYXAgcm93LlxuICBASW5wdXQoKSBic19jb2w6IGFueSA9ICdjb2wtc20tMTIgY29sLWxnLTEyIGNvbC14bC0xMic7ICAgLy8gV2hhdCBib290c3RyYXAgY29sdW1ucy5cbiAgQElucHV0KCkgdGFibGVfY2xhc3M6IGFueSA9ICd0YWJsZSB0YWJsZS1zdHJpcGVkIHRhYmxlLWNvbmRlbnNlZCc7ICAgLy8gY2xhc3Mgb2YgdGhlIHRhYmxlLlxuICBASW5wdXQoKSB0YWJsZV9zdHlsZTogYW55ID0gJyc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdHlsZSBvZiB0aGUgdGFibGUuXG4gIEBJbnB1dCgpIGVkaXQ6IGFueSA9ICdZJzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGN1c3RvbSBlZGl0IGJ1dHRvbi5cbiAgQElucHV0KCkgcGFnaW5hdGlvbjogYW55ID0gJ1knOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbmNsdWRlIHBhZ2luYXRpb24uXG4gIEBJbnB1dCgpIHBhZ2VzaXplOiBudW1iZXIgPSAyNTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcm93cyBwZXIgcGFnZSBmb3IgcGFnaW5hdGlvbi5cbiAgQElucHV0KCkgaWQ6IGFueSA9ICcwJzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZCBmb3Igd2hlcmUgY2xhdXNlLlxuICBASW5wdXQoKSBvcGVuOiBhbnkgPSBcIllcIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9lcyBhIGNsb3NhYmxlIGxpc3Qgc3RhcnQgb3Blbi5cbiAgQElucHV0KCkgY2xhc3M6IGFueSA9ICd0YWJsZSB0YWJsZS1zdHJpcGVkIHRhYmxlLWNvbmRlbnNlZCc7ICAvLyBDbGFzcyBmb3IgdGhlIHRhYmxlIGNvbnRhaW5lci5cbiAgQElucHV0KCkgc3R5bGU6IGFueSA9IFwiXCI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0eWxlIGZvciB0aGUgdGFibGUgY29udGFpbmVyLlxuICBASW5wdXQoKSBoYW5kbGVyOiBhbnkgPSAnZGVmYXVsdCc7ICAgICAgICAgICAgICAgICAgICAgIC8vIHdoYXQgaGFuZGxlciBpcyB1c2VkIHRvIHByb2Nlc3MgdGhlIGZvcm0uXG4gIEBPdXRwdXQoKSBtZW51Q2xpY2s6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIFxuICBjb3VudGVyOiBudW1iZXIgPSAwO1xuICBcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfZGF0YVNlcnZpY2U6IFNRTERhdGFTZXJ2aWNlKSB7ICAgICBcbiAgICB0aGlzLm15T2JzID0gdGhpcy5fZGF0YVNlcnZpY2UuZGF0YVN1YmplY3Quc3Vic2NyaWJlKGQgPT4ge1xuICAgICAgdGhpcy5kYXRhPWQ7XG4gICAgfSlcbiAgfVxuICBcbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gIHRoaXMuZm9ybWF0LnNlYXJjaD0nWSc7XG4gIH1cbiAgXG5cbiAgcHJvY2Vzc0NsaWNrKG06IGFueSkge1xuICAgIHRoaXMubGlzdC5mb3JFYWNoKChlOiBhbnkpPT4ge1xuICAgICAgZS5hY3RpdmU9J04nO1xuICAgIH0gKTtcbiAgICBtLmFjdGl2ZT0nWSc7XG4gICAgdGhpcy5tZW51Q2xpY2suZW1pdChtKTtcbiAgfVxuICBcbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICBcbiAgdGhpcy5mb3JtYXQudGl0bGU9dGhpcy50aXRsZTtcbiAgdGhpcy5mb3JtYXQuY2xhc3M9dGhpcy5jbGFzcztcbiAgdGhpcy5mb3JtYXQuc3R5bGU9dGhpcy5zdHlsZTtcbiAgdGhpcy5mb3JtYXQucGFnaW5hdGlvbj10aGlzLnBhZ2luYXRpb247XG4gIHRoaXMuZm9ybWF0LnBhZ2VzaXplPXRoaXMucGFnZXNpemU7XG4gIGlmICh0aGlzLmJzX3Jvdz09J1knKSB7XG4gICAgICB0aGlzLnJvd19wbGFjZWhvbGRlcj1cInJvd1wiO1xuICB9IGVsc2Uge1xuICAgICAgdGhpcy5yb3dfcGxhY2Vob2xkZXI9XCJub25lXCI7XG4gIH1cbiAgdGhpcy5jb2xfcGxhY2Vob2xkZXI9dGhpcy5ic19jb2w7XG5cbiAgdGhpcy5yb3dfbGlzdC5mb3JFYWNoKChlOiBFbGVtZW50UmVmKSA9PiB7XG4gIFxuICAgICAgIGxldCB0ZW1wbGF0ZTogYW55ID0geyB0aXRsZTogJycsICBjbGFzczogJycsICBpZDogJycsICBzdHlsZTogJycsIGFjdGl2ZTogJ04nIH07XG4gICAgICAgXG4gICAgICAgaWYgKGUubmF0aXZlRWxlbWVudC5ub2RlTmFtZT09J0xJJykge1xuICAgICAgICAgICAgdGVtcGxhdGUuaWQ9ZS5uYXRpdmVFbGVtZW50LmlkO1xuICAgICAgICAgICAgdGVtcGxhdGUudGl0bGU9ZS5uYXRpdmVFbGVtZW50LmlubmVySFRNTDtcbiAgICAgICB9ICAgICAgXG4gICAgICAgaWYgKGUubmF0aXZlRWxlbWVudC5jbGFzc05hbWUhPT11bmRlZmluZWQpIHsgdGVtcGxhdGUuY2xhc3M9ZS5uYXRpdmVFbGVtZW50LmNsYXNzTmFtZTsgfVxuICAgICAgIHRlbXBsYXRlLnN0eWxlPWUubmF0aXZlRWxlbWVudC5zdHlsZS5jc3NUZXh0O1xuICAgICAgIHRoaXMubGlzdC5wdXNoKHRlbXBsYXRlKTtcbiAgfSk7XG4gIFxuICB0aGlzLmxpc3QuZm9yRWFjaCgoZTogYW55KT0+IHtcbiAgICBjb25zb2xlLmxvZygnZS5pZDogJyArIGUuaWQgKyAnICcgKyAnIGFjdGl2ZTogJyArIHRoaXMuYWN0aXZlKVxuICAgIGlmIChlLmlkPT10aGlzLmFjdGl2ZSkge1xuICAgICAgZS5hY3RpdmU9J1knO1xuICAgIH0gZWxzZSB7XG4gICAgICBlLmFjdGl2ZT0nTic7XG4gICAgICAgIH1cbiAgfSk7XG5cbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuLy8gICAgdGhpcy5teU9icy51bnN1YnNjcmliZSgpO1xuIC8vICAgdGhpcy5teURhdGFPYnMudW5zdWJzY3JpYmUoKTtcbiAgfVxuICB9IiwiPGRpdiBjbGFzcz1cImxpc3QtZ3JvdXBcIj5cbiAgICA8YnV0dG9uICpuZ0lmPVwidGl0bGUhPScnXCIgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gbGlzdC1ncm91cC1pdGVtLWFjdGlvbiBsaXN0LWdyb3VwLWl0ZW0tZGFya1wiPnt7IHRpdGxlIH19PC9idXR0b24+XG4gICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgbSBvZiBsaXN0XCI+XG4gICAgICAgIDxsaSAoY2xpY2spPVwicHJvY2Vzc0NsaWNrKG0pXCIgKm5nSWY9XCJtPy5hY3RpdmUhPT0nWSdcIiBcbiAgICAgICAgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlclwiPnt7IG0udGl0bGUgfX1cbiAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cIm0uYmFkZ2UhPT0nJ1wiIGNsYXNzPVwiYmFkZ2UgYmctcHJpbWFyeSByb3VuZGVkLXBpbGxcIj57eyBtLmJhZGdlIH19PC9zcGFuPjwvbGk+XG4gICAgICAgIDxsaSAoY2xpY2spPVwicHJvY2Vzc0NsaWNrKG0pXCIgKm5nSWY9XCJtPy5hY3RpdmU9PT0nWSdcIiBcbiAgICAgICAgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBhY3RpdmVcIj57eyBtLnRpdGxlIH19XG4gICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJtLmJhZGdlIT09JydcIiBjbGFzcz1cImJhZGdlIGJnLXByaW1hcnkgcm91bmRlZC1waWxsXCI+e3sgbS5iYWRnZSB9fTwvc3Bhbj48L2xpPlxuICAgIDwvbmctY29udGFpbmVyPlxuPC9kaXY+Il19